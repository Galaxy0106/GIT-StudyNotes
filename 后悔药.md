## 后悔药的三个等级
    - 工作区
        撤回工作目录
    - 暂存区
        撤回暂存
    - 版本库
        撤回提交

### 撤销工作区中的修改
```shell
git checkout -- filename
```

### 撤销暂存
```shell
git reset HEAD filename
# 涉及的查看暂存区和对象的命令
git ls-files -s
git cat-file -p $hash
```

    git reflog
    显示所有的历史记录，即只要HEAD发生变化就会有历史记录
### 撤销提交
    1. 日志错误
    2. 
```shell
# 场景
1. 修改一个文件
2. git add 将这个文件加入暂存区
3. 再修改这个文件
4. git commit -m ""
5. git add ./
6. git commit --amend（只会有一次提交）

git commit --amend
```

## reset

    reset三部曲：

        第一部：soft
            git reset --soft HEAD~  (--amend的实现)
            只动HEAD(带着分支一起移动)
            而checkout只动HEAD
        第二部：[mixed]
            git reset --mixed HEAD~
            动HEAD(带着分支一起移动)
            动了暂存区
            默认
        第三部：hard
            git reset --hard HEAD~
            HEAD改变
            暂存区改变
            工作目录改变

        --hard是reset命令唯一的危险用法

## checkout
    git checkout commithash & git reset --hard --hard commithash
        1. checkout只动HEAD --hard动HEAD而且带着分支一起走
        2. checkout对工作目录是安全的 --hard则是不安全的

## 路径reset
    git reset [--mixed] [HEAD] filename
    reset会跳过第一步，即只动暂存区，而且只针对该文件


## checkout带路径
    git checkout commithash
    git checkout -- <file>  只动了工作目录